<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Wow Learning Hub</title>
    <style>
        /* --- FONT LOADING --- */
        @font-face {
            font-family: 'PizzaPress';
            src: url('PizzaPress-Regular.otf') format('opentype');
            font-weight: normal;
        }
        @font-face {
            font-family: 'OneDotCd-Bold';
            src: url('OneDotCd-Bold.ttf') format('truetype');
            font-weight: bold;
        }
        @font-face {
            font-family: 'OneDotCd';
            src: url('OneDotCd.ttf') format('truetype');
            font-weight: normal;
        }

        :root {
            /* Brand Colors */
            --brand-red: #ff0000;
            --acc-red: #e70000;
            --dark-red: #910000;
            --brand-blue: #0090e2;
            --acc-blue: #0077bd;
            --dark-blue: #005c91;
            
            /* Crust Palette */
            --crust-light: #faf2e9;
            --crust-med: #f0decc;
            --crust-dark: #c0a588;
            --crust-deep: #603913;
            --crust-burnt: #472b10;

            /* UI Config */
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'OneDotCd', 'Arial Narrow', sans-serif;
            background-color: var(--crust-light);
            color: var(--crust-deep);
            line-height: 1.5;
            font-size: 1.1rem;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* --- Header --- */
        header {
            background: linear-gradient(135deg, var(--dark-blue), var(--brand-blue));
            color: white;
            padding: 2rem 1rem 1.5rem;
            text-align: center;
            border-bottom: 6px solid var(--brand-red);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .logo-container {
            max-width: 350px;
            margin: 0 auto 0.2rem;
        }
        
        .logo-img {
            width: 100%;
            height: auto;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.2));
        }

        .tagline {
            font-family: 'PizzaPress', serif;
            font-size: 1.1rem;
            letter-spacing: 1px;
            opacity: 0.95;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
            margin-top: 5px;
            text-transform: uppercase;
        }

        /* --- Navigation Strip --- */
        .nav-strip {
            background-color: var(--dark-blue);
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding: 0.8rem 1rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .back-link {
            color: white;
            text-decoration: none;
            font-family: 'OneDotCd-Bold';
            font-size: 1.1rem;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
            cursor: pointer;
        }

        .back-link:hover {
            color: #88aacc;
            transform: translateX(-5px);
        }

        /* --- Main Content --- */
        main {
            max-width: 1000px;
            margin: 2rem auto;
            padding: 0 1rem;
            flex: 1;
            width: 100%;
        }

        /* --- View: LOBBY & CATEGORIES --- */
        .grid-view {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            animation: fadeIn 0.5s ease-out;
        }

        .lobby-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: var(--transition);
            cursor: pointer;
            border-top: 6px solid var(--acc-blue);
            display: flex;
            flex-direction: column;
            text-decoration: none;
            color: inherit;
            position: relative;
        }

        .lobby-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0,0,0,0.15);
        }

        .card-image-area {
            height: 240px;
            background-color: var(--crust-med);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: var(--crust-burnt);
            background-size: cover;
            background-position: top;
        }
        
        .card-content {
            padding: 2rem;
            text-align: center;
            flex-grow: 1;
        }

        .card-title {
            font-family: 'OneDotCd-Bold';
            font-size: 1.8rem;
            color: var(--dark-blue);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
        }

        .card-desc {
            color: #666;
            margin-bottom: 1.5rem;
        }

        .btn {
            display: inline-block;
            background: var(--brand-blue);
            color: white;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-family: 'OneDotCd-Bold';
            text-decoration: none;
            transition: var(--transition);
            border: none;
            font-size: 1.1rem;
            cursor: pointer;
        }

        .lobby-card:hover .btn {
            background: var(--dark-blue);
            transform: scale(1.05);
        }

        .btn.disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* --- View: RESOURCES LIST --- */
        #view-resources-list {
            animation: fadeIn 0.5s ease-out;
        }

        .section-header {
            text-align: center;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--crust-med);
            padding-bottom: 1rem;
        }

        .section-title {
            font-family: 'OneDotCd-Bold';
            font-size: 2rem;
            color: var(--dark-blue);
            text-transform: uppercase;
        }

        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .resource-card {
            background: white;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--brand-red);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: var(--transition);
        }
        
        .resource-card:hover {
            box-shadow: 0 8px 12px rgba(0,0,0,0.1);
        }

        .res-type {
            font-size: 0.8rem;
            text-transform: uppercase;
            color: #888;
            font-weight: bold;
            margin-bottom: 0.2rem;
            display: block;
        }

        .res-title {
            font-family: 'OneDotCd-Bold';
            font-size: 1.3rem;
            color: var(--crust-deep);
            margin-bottom: 0.5rem;
            line-height: 1.2;
        }

        .res-desc {
            font-size: 0.95rem;
            color: #666;
            margin-bottom: 1rem;
        }

        .res-actions {
            display: flex;
            gap: 15px;
            margin-top: auto;
        }

        .action-link {
            font-size: 0.9rem;
            font-weight: bold;
            text-decoration: none;
            color: var(--brand-blue);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .action-link:hover { text-decoration: underline; }

        /* --- Footer --- */
        footer {
            text-align: center;
            padding: 2rem;
            background-color: var(--dark-blue);
            color: white;
            font-family: 'OneDotCd', sans-serif;
            margin-top: auto;
        }

        /* --- Media Queries --- */
        @media (min-width: 768px) {
            .grid-view {
                grid-template-columns: 1fr 1fr;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Utility to hide/show */
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <header>
        <div class="logo-container">
            <img src="New_Logo_v2.png" alt="Team Wow Logo" class="logo-img">
        </div>
        <p class="tagline">Knowledge Base & Training Center</p>
    </header>

    <!-- Navigation -->
    <div class="nav-strip">
        <div style="max-width: 1000px; margin: 0 auto; text-align: left; display: flex; align-items: center; justify-content: space-between;">
            <!-- Dynamic Back Link -->
            <a id="nav-back-btn" href="index.html" class="back-link" onclick="handleBack(event)">
                <span id="nav-text">&#8592; Back to Career Path</span>
            </a>
        </div>
    </div>

    <main>
        
        <!-- STEP 1: MAIN LOBBY -->
        <div id="view-lobby" class="grid-view">

            <!-- Card 1: LMS -->
            <div class="lobby-card" onclick="navigateTo('login')">
                <div class="card-image-area" style="background: var(--crust-med);">
                    <span>üéì</span>
                </div>
                <div class="card-content">
                    <div class="card-title">Team Wow LMS</div>
                    <div class="card-desc">Interactive courses, quizzes, and certification tracking.</div>
                    <span class="btn">View Dashboard</span>
                </div>
            </div>

            <!-- Card 2: Resources -->
            <div class="lobby-card" onclick="navigateTo('categories')">
                <div class="card-image-area" style="background: var(--crust-light);">
                    <span>üìÇ</span>
                </div>
                <div class="card-content">
                    <div class="card-title">Resource Library</div>
                    <div class="card-desc">Job Aids, Standards, and Policy Documents.</div>
                    <span class="btn">Open Library</span>
                </div>
            </div>

        </div>

                <!-- STEP 2: CATEGORY SELECTOR -->
        <div id="view-categories" class="grid-view hidden">
            
            <!-- Managers (GMs) -->
            <div class="lobby-card" onclick="openCategory('managers', 'Manager Resources')">
                <div class="card-image-area" style="background-image: url('image/photo_gm.webp'); background-color: #eee;"></div>
                <div class="card-content">
                    <div class="card-title">Managers</div>
                    <div class="card-desc">OA Guides, Inventory, Cash, & Labor.</div>
                </div>
            </div>
        
            <!-- Drivers -->
            <div class="lobby-card" onclick="openCategory('drivers', 'Driver Resources')">
                <div class="card-image-area" style="background-image: url('image/photo_driver.jpg'); background-color: #eee;"></div>
                <div class="card-content">
                    <div class="card-title">Drivers</div>
                    <div class="card-desc">Safety Cards, Vehicle Inspections, Maps.</div>
                </div>
            </div>
        
            <!-- Insiders (CSRs) -->
            <div class="lobby-card" onclick="openCategory('insiders', 'Insider Resources')">
                <div class="card-image-area" style="background-image: url('image/photo_csr.jpg'); background-color: #eee;"></div>
                <div class="card-content">
                    <div class="card-title">Insiders (CSR)</div>
                    <div class="card-desc">Scripts, Makeline Standards, Oven Tending.</div>
                </div>
            </div>
        
            <!-- Training -->
            <div class="lobby-card" onclick="openCategory('training', 'Training Center')">
                <div class="card-image-area" style="background-image: url('image/photo_training.webp'); background-color: #eee;"></div>
                <div class="card-content">
                    <div class="card-title">Training</div>
                    <div class="card-desc">Videos, Quizzes, Certification Paths.</div>
                </div>
            </div>

           <!-- NEW: New Hire (Onboarding) -->
            <div class="lobby-card" onclick="openCategory('newhire', 'New Hire Onboarding')">
                <div class="card-image-area" style="background-image: url('image/photo_team.jpg'); background-color: #eee;"></div> <!-- ADDED CLOSING DIV HERE -->
                <div class="card-content">
                    <div class="card-title">New Hire</div>
                    <div class="card-desc">Welcome Packet, Uniforms, First Day Info.</div>
                </div>
            </div>

            <!-- NEW: HR (Benefits/Policy) -->
            <div class="lobby-card" onclick="openCategory('hr', 'Human Resources')">
                <div class="card-image-area" style="background-image: url('image/photo_HR.jpg'); background-color: #eee;"></div> <!-- ADDED CLOSING DIV HERE -->
                <div class="card-content">
                    <div class="card-title">HR & Benefits</div>
                    <div class="card-desc">Benefits, Payroll, Policy Handbook.</div>
                </div>
            </div>

        <!-- STEP 3: CONTENT GRID -->
        <div id="view-resources-list" class="hidden">
            <div class="section-header">
                <div class="section-title" id="list-title">Category Name</div>
            </div>
            
            <div class="resource-grid" id="resource-container">
                <!-- Content injected via JS -->
            </div>
        </div>

        <!-- STEP 4: VIEWER (PDF / VIDEO / IMAGE) -->
        <div id="view-viewer" class="hidden" style="height: 100%; display: flex; flex-direction: column;">
            
            <!-- Viewer for PDFs and Websites -->
            <iframe id="content-frame" src="" class="hidden" style="width: 100%; height: 80vh; border: none; border-radius: 8px; background: white;"></iframe>
            
            <!-- Viewer for Images (Auto-Fit) -->
            <img id="content-image" src="" class="hidden" style="width: 100%; height: 80vh; object-fit: contain; background: white; border-radius: 8px;">

        </div>

        <!-- STEP 4.5: FAKE LOGIN -->
        <div id="view-login" class="hidden" style="max-width: 400px; margin: 4rem auto; background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">üîí</div>
            <h2 style="font-family: 'OneDotCd-Bold'; color: var(--dark-blue); margin-bottom: 1.5rem;">LMS Secure Login</h2>
            
            <input type="text" placeholder="Employee ID" style="width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 6px;">
            <input type="password" placeholder="Password" style="width: 100%; padding: 10px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 6px;">
            
            <button class="btn" style="width: 100%;" onclick="navigateTo('lms')">Sign In</button>
            <p style="margin-top: 15px; font-size: 0.8rem; color: #888;">(Demo: Click Sign In to bypass)</p>
        </div>

        <!-- STEP 5: LMS MOCKUP (Vision) -->
        <div id="view-lms" class="hidden" style="animation: fadeIn 0.5s ease-out;">
            <div class="section-header">
                <div class="section-title">My Learning Dashboard</div>
                <p style="color: #666; font-size: 0.9rem; margin-top: 5px;">(Concept Preview)</p>
            </div>

            <!-- Fake Progress Section -->
            <div style="background: white; padding: 1.5rem; border-radius: 12px; border-left: 4px solid var(--brand-blue); margin-bottom: 2rem; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                <h3 style="font-family: 'OneDotCd-Bold'; margin-bottom: 10px; color: var(--dark-blue);">Current Course: GMIT Level 1</h3>
                <div style="display: flex; justify-content: space-between; font-size: 0.9rem; margin-bottom: 5px;">
                    <span>Progress</span>
                    <span>65%</span>
                </div>
                <div style="width: 100%; height: 10px; background: #eee; border-radius: 5px; overflow: hidden;">
                    <div style="width: 65%; height: 100%; background: var(--brand-blue);"></div>
                </div>
                <button class="btn" style="margin-top: 15px; padding: 0.5rem 1.5rem; font-size: 0.9rem;">Resume Training ‚ñ∂</button>
            </div>

            <!-- Fake Course Grid -->
            <h3 style="font-family: 'OneDotCd-Bold'; margin-bottom: 1rem; color: var(--crust-deep);">Assigned Courses</h3>
            <div class="resource-grid">
                <!-- Mock Card 1 -->
                <div class="resource-card" style="opacity: 0.7;">
                    <span class="res-type">REQUIRED</span>
                    <div class="res-title">Food Safety Certification</div>
                    <div class="res-desc">Due: Feb 15, 2026</div>
                    <span style="font-size: 0.8rem; color: var(--brand-red);">Not Started</span>
                </div>
                <!-- Mock Card 2 -->
                <div class="resource-card" style="opacity: 0.7;">
                    <span class="res-type">OPTIONAL</span>
                    <div class="res-title">Advanced Dough Repair</div>
                    <div class="res-desc">Master Class Series</div>
                    <span style="font-size: 0.8rem; color: green;">Completed ‚úÖ</span>
                </div>
            </div>
        </div>

    </main>

    <footer>
        <p>&copy; 2026 Team Wow! | Domino's Pizza</p>
        <p style="margin-top:5px; font-size: 0.7em;">Powered by Crust & Code</p>
    </footer>

    <script>
        // --- STATE ---
        let currentView = 'lobby'; // lobby, categories, list
        
        // --- DATA ---
        const resources = [
            // MANAGERS
            { id: 1, category: 'managers', type: 'PDF', title: 'Product Consistency Changes', desc: 'Information about new product consistency changes.', 
                 link: 'resources/gm/Changes_Product%20Consistency.pdf' },
            { id: 2, category: 'managers', type: 'PDF', title: 'Dough Management Tool', desc: 'Tool to assist in dough proofing and management.', 
                 link: 'resources/gm/Dough_Management_Tool.pdf' },
            
            // DRIVERS
            { id: 3, category: 'drivers', type: 'PDF', title: 'Delivey Expert App FAQ', desc: 'Job Aid for the Delivery Expert App.', 
                 link: 'resources/driver/delivery_exp_jobaid.pdf' },
            { id: 4, category: 'drivers', type: 'Link', title: 'Drivosity Points', desc: 'See how many points you have. Speak with a manager to redeem points for prizes!', 
                 link: 'https://team-wow-hr.com/drivosity-rewards.html' },
            
            // INSIDERS
            { id: 5, category: 'insiders', type: 'Image', title: 'Toppings Codes', desc: 'English and Spanish Toppings Codes.', 
                 link: 'resources/csr/toppings.jpg' },
            { id: 6, category: 'insiders', type: 'Video', title: 'Parmesan Stuff Crust Tutorial', desc: 'Step-by-step guide covering how to make the new Parmesan Stuffed Crust pizza.', 
                link: 'https://www.youtube.com/embed/QNENO4eDkKo?si=bS5XbuTSgf5f0id7' 
            },

            // TRAINING
            { id: 7, category: 'training', type: 'PDF', title: 'New Hire Training Packet', desc: 'Comprehensive checklist to aid in new hire training.', 
                 link: 'resources/training/New%20Hire%20In-Store%20Training%20Packet%202025.pdf' },
            { id: 8, category: 'training', type: 'PDF', title: 'OA Standards 2026', desc: '2026 Updated Operations Assessment Guidelines', 
                 link: 'resources/training/2026_OA_Guide.pdf' },
            { id: 9, category: 'training', type: 'Video', title: 'Pizza Grading Tool Tutorial', desc: 'Information regarding use of the new Pizza Grading tool.', 
                 link: 'https://www.youtube.com/embed/yeveh8NcXNw?si=z7fHrTjd6pKJ27If' },

             // NEW HIRE
            { id: 10, category: 'newhire', type: 'PDF', title: 'New Hire Training Packet', desc: 'Information packet for all new hires.', 
                 link: 'resources/new%20hire/New%20Hire%20Packet%202025.pdf' },

             // HR
            { id: 11, category: 'hr', type: 'Link', title: 'MyPay FAQ', desc: 'MyPay Support and FAQ', 
                 link: 'https://alliancehcm.com/employee-support' },
            { id: 12, category: 'hr', type: 'PDF', title: 'Netspend FAQ', desc: 'Netspend Skylight ONE Support and FAQ', 
                 link: 'resources/HR/Netspend%20FAQ.pdf' },
        ];

        // --- NAVIGATION LOGIC ---
        function navigateTo(view) {
            // Hide all
            document.getElementById('view-lobby').classList.add('hidden');
            document.getElementById('view-categories').classList.add('hidden');
            document.getElementById('view-resources-list').classList.add('hidden');
            document.getElementById('view-viewer').classList.add('hidden'); // <--- NEW
            document.getElementById('view-login').classList.add('hidden'); // <--- NEW
            document.getElementById('view-lms').classList.add('hidden'); // <--- NEW

            // Show Target
            if (view === 'lobby') {
                document.getElementById('view-lobby').classList.remove('hidden');
                updateNav('exit');
            } else if (view === 'categories') {
                document.getElementById('view-categories').classList.remove('hidden');
                updateNav('back', 'Back to Lobby');
            } else if (view === 'list') {
                document.getElementById('view-resources-list').classList.remove('hidden');
                updateNav('back', 'Back to Categories');
            } else if (view === 'viewer') {  // <--- NEW BLOCK
                document.getElementById('view-viewer').classList.remove('hidden');
                updateNav('back', 'Back to Resources');
            } else if (view === 'login') { // <--- NEW BLOCK
                document.getElementById('view-login').classList.remove('hidden');
                updateNav('back', 'Back to Lobby');
            } else if (view === 'lms') { // <--- NEW BLOCK
                document.getElementById('view-lms').classList.remove('hidden');
                updateNav('back', 'Log Out');
            }
            
            // Handle Back Button Logic for Viewer
            currentView = view;
            window.scrollTo(0,0);
        }

        function updateNav(type, text) {
            const navBtn = document.getElementById('nav-back-btn');
            const navText = document.getElementById('nav-text');

            // CLEAR previous listeners to prevent double-firing
            // (Cloning the node is the nuclear way to wipe listeners)
            const newBtn = navBtn.cloneNode(true);
            newBtn.removeAttribute('onclick'); // SAFETY: Remove inline handlers to prevent double-click issues
            navBtn.parentNode.replaceChild(newBtn, navBtn);

            // Re-select the new button
            const activeBtn = document.getElementById('nav-back-btn');

            if (type === 'exit') {
                activeBtn.setAttribute('href', 'index.html'); 
                // No onclick needed, it's a link
                navText.innerHTML = '&#8592; Back to Career Path';
            } else {
                activeBtn.setAttribute('href', '#');
                // FORCE the listener back on
                activeBtn.addEventListener('click', handleBack); 
                navText.innerHTML = '&#8592; ' + text;
            }
        }

       function handleBack(e) {
            console.log("Current View is:", currentView); // <--- ADD THIS
            if (currentView === 'lobby') return;
            
            e.preventDefault();
            
            if (currentView === 'categories') {
                navigateTo('lobby');
            } else if (currentView === 'list') {
                navigateTo('categories');
            } else if (currentView === 'viewer') {
                // KILL SWITCH
                document.getElementById('content-frame').src = ''; 
                navigateTo('list');
            } else if (currentView === 'login') {
                navigateTo('lobby');
            } else if (currentView === 'lms') {
                navigateTo('login'); // Makes sense to go back to Login, or Lobby (Logout). Your call.
            }
        }

        // --- CONTENT LOGIC ---
        function openCategory(catKey, catTitle) {
            const container = document.getElementById('resource-container');
            document.getElementById('list-title').innerText = catTitle;
            container.innerHTML = '';

            const filtered = resources.filter(r => r.category === catKey);

            if (filtered.length === 0) {
                container.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: #888;">No resources found in this category.</p>';
            } else {
                filtered.forEach(res => {
                    const html = `
                        <div class="resource-card">
                            <span class="res-type">${res.type}</span>
                            <div class="res-title">${res.title}</div>
                            <div class="res-desc">${res.desc}</div>
                            <div class="res-actions">
                                <a href="#" class="action-link" onclick="openDocument('${res.link}'); return false;">
                                    <span>üëÅÔ∏è</span> View
                                </a>
                                <a href="#" class="action-link" onclick="alert('Opening Email Client...')">
                                    <span>‚úâÔ∏è</span> Email
                                </a>
                            </div>
                        </div>
                    `;
                    container.innerHTML += html;
                });
            }

            navigateTo('list');
        }

        function openDocument(url) {
            const frame = document.getElementById('content-frame');
            const img = document.getElementById('content-image');
            
            // Check if it's an image
            const isImage = url.match(/\.(jpeg|jpg|gif|png|webp)$/i);

            if (isImage) {
                // IMAGE MODE
                frame.classList.add('hidden');
                img.classList.remove('hidden');
                img.src = url;
            } else {
                // IFRAME MODE (PDF / Video)
                img.classList.add('hidden');
                frame.classList.remove('hidden');
                frame.src = url;
            }

            navigateTo('viewer');
        }

    </script>
</body>
</html>
